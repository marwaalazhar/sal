{"version":3,"sources":["images/icons/down-arrow.svg","images/logo.svg","images/icons/alert.svg","images/icons/question-mark.svg","state/ducks/auth0/types.ts","state/ducks/auth0/utils.ts","state/ducks/auth0/actions.ts","state/ducks/users/types.ts","state/middlewares/apiService.ts","state/ducks/users/actions.ts","state/ducks/questions/types.ts","state/ducks/answers/types.ts","state/ducks/answers/actions.ts","views/components/avatar.tsx","views/components/dropdown.tsx","views/components/navbar.tsx","views/components/questionSection.tsx","state/ducks/questions/actions.ts","views/components/spinner.tsx","views/components/answerSection.tsx","views/components/questionForm.tsx","views/components/header.tsx","views/components/footer.tsx","views/pages/home.tsx","views/pages/question.tsx","state/ducks/search/types.ts","state/ducks/search/actions.ts","views/pages/search.tsx","routes/index.ts","views/layouts/app.tsx","serviceWorker.ts","state/ducks/auth0/reducers.ts","state/ducks/auth0/index.ts","state/ducks/questions/reducers.ts","state/ducks/questions/index.ts","state/ducks/users/reducers.ts","state/ducks/users/index.ts","state/ducks/answers/reducers.ts","state/ducks/answers/index.ts","state/ducks/search/reducers.ts","state/ducks/search/index.ts","state/store.ts","index.tsx"],"names":["module","exports","Types","createBrowserHistory","requestInitAuth0","type","INIT_AUTH0_REQUEST","initAuth0Success","successPayload","INIT_AUTH0_SUCCESS","payload","initAuth0Error","error","INIT_AUTH0_ERROR","defaultHandleRedirect","appState","window","history","replaceState","document","title","location","pathname","CALL_API","Symbol","apiService","next","action","call","endpoint","token","types","config","requestType","successType","errorType","headers","Object","assign","Authorization","fetch","then","response","json","data","ok","Promise","reject","callApi","receivedAt","Date","now","catch","message","loadUser","id","dispatch","getState","users","entities","get","USER_REQUEST","USER_SUCCESS","USER_FAILURE","fetchUser","loadAnswer","answers","ANSWER_REQUEST","ANSWER_SUCCESS","ANSWER_FAILURE","fetchAnswer","Avatar","src","size","info","className","alt","name","role","defaultProps","Dropdown","btnContent","dropdownClass","btnClass","children","useDropdown","useState","active","setActive","dropdownRef","useRef","hide","useEffect","handleEscape","evt","stopPropagation","keyCode","handleDocumentClick","clicked","target","current","contains","addEventListener","removeEventListener","ref","aria-haspopup","aria-expanded","onClick","aria-labelledby","Children","map","child","props","cloneElement","Nav","currentUser","userName","user","user_metadata","firstname","lastname","alert","href","rel","questionMark","style","marginRight","picture","goToProfile","textTransform","logout","connect","state","auth0","client","isAuthenticated","isFetching","useHistory","inputVal","setInputVal","to","logo","width","height","loading","onSubmit","preventDefault","push","placeholder","aria-label","value","onChange","currentTarget","loginWithRedirect","paddingRight","paddingLeft","returnTo","origin","mapDispatchToProps","deleteQuestion","Q_DELETE_REQUEST","Q_DELETE_SUCCESS","Q_DELETE_FAILURE","method","accessToken","question","user_id","job","currentUserQuestion","createdAt","created_at","toLocaleDateString","length","downArrow","content","Spinner","xmlns","viewBox","cx","cy","r","AnswerContent","requestBASent","setRequestBASent","isUpdatingQuestion","showDropdown","setShowDropdown","answer","currentUserAnswer","questionUserId","isBestAnswer","bestAnswer","selectBestAnswer","question_id","deleteAnswer","answer_id","Q_BA_REQUEST","Q_BA_SUCCESS","Q_BA_FAILURE","body","JSON","stringify","A_DELETE_REQUEST","A_DELETE_SUCCESS","postAnswer","questionId","A_POST_REQUEST","A_POST_SUCCESS","A_POST_FAILURE","isPostingAnswer","isPosting","formActive","setFormActive","textareaVal","setTextareaVal","postingAnswer","setPostingAnswer","key","Math","random","toString","slice","answerExists","rows","disabled","confirm","postQuestion","Q_POST_REQUEST","Q_POST_SUCCESS","Q_POST_FAILURE","formFocused","setFormFocused","handleBlur","onFocus","onBlur","Header","Footer","loadQuestions","questions","nextPageUrl","pageCount","QUESTIONS_REQUEST","QUESTIONS_SUCCESS","QUESTIONS_FAILURE","fetchQuestions","isFetchingQuestions","isPostingQuestion","isUpdating","requestedUsers","Set","values","has","add","best_answer","QAComponents","margin","condition","marginBottom","marginTop","textAlign","loadQuestion","QUESTION_REQUEST","QUESTION_SUCCESS","QUESTION_FAILURE","fetchQuestion","useParams","parseInt","unshift","padding","color","goBack","searchQuestions","search","SEARCH_REQUEST","SEARCH_SUCCESS","SEARCH_FAILURE","loadSearch","searchTerm","routes","path","component","Home","exact","QuestionPage","useLocation","params","URLSearchParams","QComponents","initAuth0","initOptions","handleRedirect","createAuth0Client","auth0Client","a","includes","handleRedirectCallback","getTokenSilently","parse","atob","split","sub","err","isLoading","domain","client_id","clientId","audience","redirect_uri","useRefreshToken","targetUrl","route","Boolean","hostname","match","defaultState","errorMessage","auth0Reducer","reducer","Map","questionsReducer","newEntities","entity","set","next_path","noOfQuestions","no_of_questions","lastUpdated","delete","del_id","created","patched","AnswersTypes","filter","usersReducer","answersReducer","A_DELETE_FAILURE","searchReducer","search_term","store","createStore","combineReducers","reducers","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.c8840d6f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/down-arrow.a5a584e6.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.ab947aeb.svg\";","module.exports = __webpack_public_path__ + \"static/media/alert.4bb2ea72.svg\";","module.exports = __webpack_public_path__ + \"static/media/question-mark.f9e1c18a.svg\";","import { Auth0Client } from \"@auth0/auth0-spa-js\";\n\nexport enum Types {\n  INIT_AUTH0_REQUEST = \"INIT_AUTH0_REQUEST\",\n  INIT_AUTH0_SUCCESS = \"INIT_AUTH0_SUCCESS\",\n  INIT_AUTH0_ERROR = \"INIT_AUTH0_ERROR\",\n}\n\ninterface requestInitAuth0Action {\n  type: typeof Types.INIT_AUTH0_REQUEST;\n}\n\nexport interface SuccessPayload {\n  auth0Client: Auth0Client;\n  isAuthenticated: boolean;\n  accessToken: string;\n  currentUser: string; // current user id\n}\ninterface successAuth0Action {\n  type: typeof Types.INIT_AUTH0_SUCCESS;\n  payload: SuccessPayload;\n}\n\ninterface initAuth0ErrorAction {\n  type: typeof Types.INIT_AUTH0_ERROR;\n  error: string;\n}\n\nexport type Auth0ActionTypes =\n  | requestInitAuth0Action\n  | successAuth0Action\n  | initAuth0ErrorAction;\n\nexport default Types;\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();\n","import Types, { Auth0ActionTypes, SuccessPayload } from \"./types\";\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\n\nfunction requestInitAuth0(): Auth0ActionTypes {\n  return {\n    type: Types.INIT_AUTH0_REQUEST,\n  };\n}\n\nfunction initAuth0Success(successPayload: SuccessPayload): Auth0ActionTypes {\n  return {\n    type: Types.INIT_AUTH0_SUCCESS,\n    payload: successPayload,\n  };\n}\n\nfunction initAuth0Error(error: string): Auth0ActionTypes {\n  return {\n    type: Types.INIT_AUTH0_ERROR,\n    error,\n  };\n}\n\n// async action\n\ninterface InitOptions {\n  domain: string;\n  client_id: string;\n  audience: string;\n  redirect_uri: string;\n  useRefreshToken: boolean;\n}\nfunction defaultHandleRedirect(appState?: any) {\n  window.history.replaceState({}, document.title, window.location.pathname);\n}\n\nexport function initAuth0(\n  initOptions: InitOptions,\n  handleRedirect = defaultHandleRedirect\n) {\n  return function (dispatch: any) {\n    dispatch(requestInitAuth0());\n    createAuth0Client(initOptions)\n      .then(async (auth0Client) => {\n        // handle authentication from the url\n        if (\n          window.location.search.includes(\"code=\") &&\n          window.location.search.includes(\"state=\")\n        ) {\n          const appState = await auth0Client.handleRedirectCallback();\n          handleRedirect(appState);\n        }\n        const isAuthenticated = await auth0Client.isAuthenticated();\n        let accessToken = null,\n          currentUser = null;\n        if (isAuthenticated) {\n          accessToken = await auth0Client.getTokenSilently();\n          // get current user id from json web token\n          currentUser = JSON.parse(atob(accessToken.split(\".\")[1])).sub;\n        }\n        dispatch(\n          initAuth0Success({\n            auth0Client,\n            isAuthenticated,\n            accessToken,\n            currentUser,\n          })\n        );\n      })\n      .catch((err) => {\n        dispatch(initAuth0Error(err.message));\n      });\n  };\n}\n","export enum Types {\n  USER_REQUEST = \"USER_REQUEST\",\n  USER_SUCCESS = \"USER_SUCCESS\",\n  USER_FAILURE = \"USER_FAILURE\",\n}\n\nexport interface User {\n  user_id: string;\n  name: string; // given name by auth0\n  picture: string;\n  user_metadata?: {\n    firstname: string;\n    lastname: string;\n    job: string;\n  };\n}\n","const baseUrl = \"\";\n\nfunction callApi(endpoint: string, config: any, token?: string) {\n  if (token) {\n    // if there is headers in config, don't override it\n    if (config.headers) {\n      Object.assign(config.headers, {\n        Authorization: `Bearer ${token}`,\n      });\n    } else {\n      Object.assign(config, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n    }\n  }\n\n  return fetch(baseUrl + endpoint, config)\n    .then((response) => {\n      return response.json().then((data) => ({ data, response }));\n    })\n    .then(({ data, response }) => {\n      if (!response.ok) {\n        return Promise.reject(data);\n      }\n\n      return data;\n    });\n}\n\nexport const CALL_API = Symbol(\"Call API\");\nconst apiService = () => (next: any) => (action: any) => {\n  const call = action[CALL_API];\n\n  // So the middleware doesn't get applied to every single action\n  if (typeof call === \"undefined\") {\n    return next(action);\n  }\n\n  let { endpoint, token, types, config = {} } = call;\n  const [requestType, successType, errorType] = types;\n  // dispatching the request\n  next({\n    type: requestType,\n  });\n\n  return callApi(endpoint, config, token)\n    .then((response) => {\n      return next({\n        receivedAt: Date.now(),\n        payload: response,\n        type: successType,\n      });\n    })\n    .catch((error) => {\n      return next({\n        error: error.message,\n        type: errorType,\n      });\n    });\n};\n\nexport default apiService;\n","import { Types } from \"./types\";\nimport { CALL_API } from \"../../middlewares/apiService\";\n\nfunction fetchUser(id: string) {\n  return {\n    [CALL_API]: {\n      endpoint: `/api/users/${id}`,\n      types: [Types.USER_REQUEST, Types.USER_SUCCESS, Types.USER_FAILURE],\n    },\n  };\n}\n\nexport function loadUser(id: string) {\n  return function (dispatch: any, getState: any) {\n    const user = getState().users.entities.get(id);\n    // do not send pointless requests\n    if (user || !id) {\n      return null;\n    }\n    return dispatch(fetchUser(id));\n  };\n}\n","export enum Types {\n  QUESTIONS_REQUEST = \"QUESTIONS_REQUEST\",\n  QUESTIONS_SUCCESS = \"QUESTIONS_SUCCESS\",\n  QUESTIONS_FAILURE = \"QUESTIONS_FAILURE\",\n  QUESTION_REQUEST = \"QUESTION_REQUEST\",\n  QUESTION_SUCCESS = \"QUESTION_SUCCESS\",\n  QUESTION_FAILURE = \"QUESTION_FAILURE\",\n  Q_DELETE_REQUEST = \"Q_DELETE_REQUEST\",\n  Q_DELETE_SUCCESS = \"Q_DELETE_SUCCESS\",\n  Q_DELETE_FAILURE = \"Q_DELETE_FAILURE\",\n  Q_POST_REQUEST = \"Q_POST_REQUEST\",\n  Q_POST_SUCCESS = \"Q_POST_SUCCESS\",\n  Q_POST_FAILURE = \"Q_POST_FAILURE\",\n  Q_BA_REQUEST = \"Q_BA_REQUEST\", // question best answer\n  Q_BA_SUCCESS = \"Q_BA_SUCCESS\",\n  Q_BA_FAILURE = \"Q_BA_FAILURE\",\n}\n\nexport interface Question {\n  id: number;\n  user_id: string;\n  content: string;\n  created_at: string;\n  best_answer: number | null;\n  answers: number[];\n}\n","export enum Types {\n  ANSWER_REQUEST = \"ANSWER_REQUEST\",\n  ANSWER_SUCCESS = \"ANSWER_SUCCESS\",\n  ANSWER_FAILURE = \"ANSWER_FAILURE\",\n  A_DELETE_REQUEST = \"A_DELETE_REQUEST\",\n  A_DELETE_SUCCESS = \"A_DELETE_SUCCESS\",\n  A_DELETE_FAILURE = \"A_DELETE_FAILURE\",\n  A_POST_REQUEST = \"A_POST_REQUEST\",\n  A_POST_SUCCESS = \"A_POST_SUCCESS\",\n  A_POST_FAILURE = \"A_POST_FAILURE\",\n}\n\nexport interface Answer {\n  id: number;\n  user_id: string;\n  content: string;\n  created_at: string;\n  question_id: number;\n}\n","import { Types } from \"./types\";\nimport { CALL_API } from \"../../middlewares/apiService\";\n\nfunction fetchAnswer(id: string) {\n  return {\n    [CALL_API]: {\n      endpoint: `/api/answers/${id}`,\n      types: [Types.ANSWER_REQUEST, Types.ANSWER_SUCCESS, Types.ANSWER_FAILURE],\n    },\n  };\n}\n\nexport function loadAnswer(id: string) {\n  return function (dispatch: any, getState: any) {\n    const answer = getState().answers.entities.get(id);\n    // do not send pointless requests\n    if (answer || !id) {\n      return null;\n    }\n    return dispatch(fetchAnswer(id));\n  };\n}\n\nexport function deleteAnswer(id: string, token: string) {\n  return {\n    [CALL_API]: {\n      endpoint: `/api/answers/${id}`,\n      token: token,\n      types: [\n        Types.A_DELETE_REQUEST,\n        Types.A_DELETE_SUCCESS,\n        Types.ANSWER_FAILURE,\n      ],\n      config: {\n        method: \"DELETE\",\n      },\n    },\n  };\n}\n\nexport function postAnswer(questionId: number, content: string, token: string) {\n  return {\n    [CALL_API]: {\n      endpoint: `/api/questions/${questionId}/answers`,\n      token: token,\n      types: [Types.A_POST_REQUEST, Types.A_POST_SUCCESS, Types.A_POST_FAILURE],\n      config: {\n        method: \"POST\",\n        body: JSON.stringify({ content }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      },\n    },\n  };\n}\n","import React, { FunctionComponent } from \"react\";\n\ninterface Props {\n  src: string;\n  size?: string;\n  info?: {\n    name: string;\n    role?: string;\n  };\n}\n\nconst Avatar: FunctionComponent<Props> = ({ src, size, info }) => {\n  return (\n    <div className={`avatar-${size}`}>\n      <div className=\"avatar-img\">\n        <img src={src} alt={info ? info.name + \" image\" : \"avatar image\"} />\n      </div>\n      {info && (\n        <p className=\"avatar-info\">\n          {info.name}\n          {info.role && (\n            <>\n              <br />\n              <small className=\"text-muted\">{info.role}</small>\n            </>\n          )}\n        </p>\n      )}\n    </div>\n  );\n};\nAvatar.defaultProps = {\n  size: \"md\",\n};\n\nexport default Avatar;\n","import React, {\n  FunctionComponent,\n  ReactNode,\n  Children,\n  cloneElement,\n  useState,\n  useRef,\n  useEffect,\n  Dispatch,\n  SetStateAction,\n} from \"react\";\n\ninterface Props {\n  btnContent: ReactNode;\n  dropdownClass?: string;\n  btnClass?: string;\n  useDropdown?: [boolean, Dispatch<SetStateAction<boolean>>],\n}\n\nconst Dropdown: FunctionComponent<Props> = ({\n  btnContent,\n  dropdownClass,\n  btnClass,\n  children,\n  useDropdown\n}) => {\n\n  let [active, setActive] = useState<boolean>(false)\n  if (useDropdown) {\n    // this is just to give the parent component an optional way\n    // to access Dropdown component state (renderProps and similar is not optional)\n    [active, setActive] = useDropdown;\n  }\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    function handleEscape(evt: KeyboardEvent) {\n      evt.stopPropagation();\n      const esc_key_code = 27;\n      if (evt.keyCode === esc_key_code) {\n        hide();\n      }\n    }\n\n    function handleDocumentClick(evt: MouseEvent) {\n      evt.stopPropagation();\n      const clicked = evt.target as any;\n      // if the user click the dropdown or any of its children, do not hide the dropdown\n      if (\n        clicked === dropdownRef.current ||\n        dropdownRef.current?.contains(clicked)\n      ) {\n        return;\n      }\n      // else hide it\n      hide();\n    }\n    document.addEventListener(\"click\", handleDocumentClick, false);\n    document.addEventListener(\"keydown\", handleEscape, false);\n\n    // cleanup function\n    return function () {\n      document.removeEventListener(\"click\", handleDocumentClick, false);\n      document.removeEventListener(\"keydown\", handleEscape, false);\n    };\n  }, []);\n\n  function toggleMenu(evt: React.MouseEvent<HTMLButtonElement>) {\n    if (active) {\n      hide();\n    } else {\n      show();\n    }\n  }\n\n  function hide() {\n    setActive(false);\n  }\n\n  function show() {\n    setActive(true);\n  }\n\n  return (\n    <div ref={dropdownRef} className={dropdownClass ? dropdownClass + \" dropdown\" : \"dropdown\"}>\n      <button\n        className={btnClass ? btnClass + \" btn\" : \"btn\"}\n        aria-haspopup=\"true\"\n        aria-expanded={active}\n        onClick={toggleMenu}\n      >\n        {btnContent}\n      </button>\n\n      <div\n        className={active ? \"dropdown-menu show\" : \"dropdown-menu\"}\n        aria-labelledby=\"dropdownMenuLink\"\n      >\n        {Children.map(children, (child: any) => {\n          if (!child || !child.props) {\n            return // not a react element\n          }\n          return cloneElement(child, {\n            className: child.props.className\n              ? child.props.className + \" dropdown-item\"\n              : \"dropdown-item\",\n          });\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default Dropdown;\n","import React, { useState, FormEvent } from \"react\";\nimport logo from \"../../images/logo.svg\";\nimport alert from \"../../images/icons/alert.svg\";\nimport questionMark from \"../../images/icons/question-mark.svg\";\nimport Avatar from \"./avatar\";\nimport Dropdown from \"./dropdown\";\nimport { connect } from \"react-redux\";\nimport { Auth0Client } from \"@auth0/auth0-spa-js\";\nimport { User } from \"../../state/ducks/users/types\";\nimport { Link, useHistory } from \"react-router-dom\";\n\ninterface NavProps {\n  user: User | null;\n  logout: () => void;\n  goToProfile: () => void;\n}\nfunction Nav(props: NavProps) {\n  function handleAlertClick() {\n    window.alert(\"Alerts not implemented yet, Stay tuned!\");\n  }\n  let currentUser,\n    userName = \"loading...\";\n  if (props.user) {\n    currentUser = props.user;\n    userName = currentUser.user_metadata\n      ? currentUser.user_metadata.firstname +\n        \" \" +\n        currentUser.user_metadata.lastname\n      : currentUser.name;\n  }\n  return (\n    <ul className=\"navbar-nav\">\n      <li className=\"nav-item\">\n        <button\n          className=\"nav-btn btn\"\n          onClick={handleAlertClick}\n          title=\"Notifications\"\n        >\n          <img src={alert} alt=\"alert-icon\" className=\"icon\" />\n        </button>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          className=\"nav-btn btn\"\n          href=\"https://github.com/ahmedhrayyan/sal\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"About\"\n        >\n          <img src={questionMark} alt=\"about-icon\" className=\"icon\" />\n        </a>\n      </li>\n      <li className=\"nav-item\" style={{ marginRight: \"-7px\" }}>\n        <Dropdown\n          btnContent={<Avatar src={currentUser?.picture || \"\"} size=\"sm\" />}\n          btnClass=\"avatar-btn\"\n        >\n          <button\n            onClick={props.goToProfile}\n            style={{ textTransform: \"capitalize\" }}\n          >\n            {userName}\n          </button>\n          <button onClick={props.logout}>Logout</button>\n        </Dropdown>\n      </li>\n    </ul>\n  );\n}\n\ninterface Props {\n  auth0: Auth0Client;\n  isAuthenticated: boolean;\n  currentUser: string;\n  isFetching: boolean;\n  users: Map<string, User>;\n}\nfunction Navbar(props: Props) {\n  const history = useHistory();\n  const [inputVal, setInputVal] = useState<string>(\"\");\n  function login() {\n    props.auth0.loginWithRedirect({});\n  }\n\n  function logout() {\n    props.auth0.logout({ returnTo: window.location.origin });\n  }\n\n  function goToProfile() {\n    window.alert(\"Users profile page is not here yet, Stay tuned!\");\n  }\n\n  function handleSearch(evt: any) {\n    evt.preventDefault();\n    if (!inputVal) {\n      return null;\n    }\n    history.push(`/search?term=${inputVal}`);\n  }\n\n  function handleChange(evt: FormEvent<HTMLInputElement>) {\n    setInputVal(evt.currentTarget.value);\n  }\n\n  return (\n    <nav className=\"navbar navbar-primary navbar-dark\">\n      <Link to=\"/\" className=\"navbar-brand logo\">\n        <img\n          className=\"logo-img\"\n          src={logo}\n          width=\"30\"\n          height=\"30\"\n          alt=\"sal logo\"\n          loading=\"lazy\"\n        />\n        <span className=\"logo-slogan\">any question...</span>\n      </Link>\n      <form className=\"form-inline navbar-search\" onSubmit={handleSearch}>\n        <input\n          className=\"form-control mr-sm-2\"\n          type=\"search\"\n          placeholder=\"Search\"\n          aria-label=\"Search\"\n          value={inputVal}\n          onChange={handleChange}\n        />\n      </form>\n      {!props.isAuthenticated && (\n        <button\n          className=\"btn btn-link-light\"\n          onClick={login}\n          style={{\n            paddingRight: \"10px\",\n            paddingLeft: \"10px\",\n            marginRight: \"-10px\",\n          }}\n        >\n          Sign In\n        </button>\n      )}\n      {props.isAuthenticated && (\n        <Nav\n          user={props.users.get(props.currentUser) || null}\n          logout={logout}\n          goToProfile={goToProfile}\n        />\n      )}\n    </nav>\n  );\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    auth0: state.auth0.client,\n    isAuthenticated: state.auth0.isAuthenticated,\n    currentUser: state.auth0.currentUser,\n    isFetching: state.users.isFetching,\n    users: state.users.entities,\n  };\n}\n\nconst mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\n","import React, { CSSProperties } from \"react\";\nimport Avatar from \"./avatar\";\nimport downArrow from \"../../images/icons/down-arrow.svg\";\nimport Dropdown from \"./dropdown\";\nimport { Link } from \"react-router-dom\";\nimport { Question } from \"../../state/ducks/questions/types\";\nimport { deleteQuestion } from \"../../state/ducks/questions/actions\";\nimport { User } from \"../../state/ducks/users/types\";\nimport { connect } from \"react-redux\";\n\ninterface Props {\n  question: Question;\n  users: Map<string, User>;\n  currentUser: string;\n  token: string;\n  deleteQuestion: any;\n  style?: CSSProperties;\n}\nfunction QuestionSection(props: Props) {\n  let user = props.users.get(props.question.user_id);\n  let job = \"loading...\",\n    userName = \"loading...\";\n  if (user) {\n    userName = user.user_metadata\n      ? user.user_metadata.firstname + \" \" + user.user_metadata.lastname\n      : user.name;\n    job = user.user_metadata ? user.user_metadata.job : \"software engineer\"; // you've signed in using github :)\n  }\n  const currentUserQuestion = props.currentUser === props.question.user_id;\n  function handleReporting() {\n    alert(\"Unfortunately, this action is not implemented yet!\");\n  }\n  function handleUpdating() {\n    alert(\"Unfortunately, this action is not implemented yet!\");\n  }\n  function handleDeleting() {\n    props.deleteQuestion(props.question.id, props.token);\n  }\n  const createdAt = new Date(props.question.created_at);\n  return (\n    <div className=\"card ask\" style={props.style}>\n      <div className=\"card-header\">\n        <Avatar\n          src={user?.picture || \"\"}\n          info={{ name: userName, role: job }}\n        />\n        <div className=\"card-header-metadata\">\n          <p className=\"content\">\n            <small>\n              {createdAt.toLocaleDateString()}\n              <br />\n              <span className=\"text-muted\">\n                {!props.question.answers.length\n                  ? \"No answers yet\"\n                  : props.question.answers.length === 1\n                  ? \"1 answer\"\n                  : `${props.question.answers.length} answers`}\n              </span>\n            </small>\n          </p>\n          <Dropdown\n            btnContent={\n              <img className=\"icon\" src={downArrow} alt=\"down-arrow icon\" />\n            }\n          >\n            <Link to={`/questions/${props.question.id}`}>View question</Link>\n            {!currentUserQuestion && (\n              <button onClick={handleReporting}>Report this question</button>\n            )}\n            {currentUserQuestion && (\n              <button onClick={handleDeleting}>Delete Question</button>\n            )}\n            {currentUserQuestion && (\n              <button onClick={handleUpdating}>Update Question</button>\n            )}\n          </Dropdown>\n        </div>\n      </div>\n      <div className=\"card-body\">\n        <p className=\"card-text\">{props.question.content}</p>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    token: state.auth0.accessToken,\n    currentUser: state.auth0.currentUser,\n    users: state.users.entities,\n  };\n}\n\nconst mapDispatchToProps = {\n  deleteQuestion,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionSection);\n","import { Types } from \"./types\";\nimport { CALL_API } from \"../../middlewares/apiService\";\n\n// load questions by page\nfunction fetchQuestions(nextPageUrl: string) {\n  return {\n    [CALL_API]: {\n      endpoint: nextPageUrl,\n      types: [\n        Types.QUESTIONS_REQUEST,\n        Types.QUESTIONS_SUCCESS,\n        Types.QUESTIONS_FAILURE,\n      ],\n    },\n  };\n}\n\nexport function loadQuestions() {\n  return function (dispatch: any, getState: any) {\n    const { nextPageUrl = \"/api/questions\", pageCount = 0 } =\n      getState().questions || {};\n    // don't make pointless requests\n    if (pageCount > 0 && !nextPageUrl) {\n      return;\n    }\n    return dispatch(fetchQuestions(nextPageUrl));\n  };\n}\n\n// load only one question\nfunction fetchQuestion(id: string) {\n  return {\n    [CALL_API]: {\n      endpoint: `/api/questions/${id}`,\n      types: [\n        Types.QUESTION_REQUEST,\n        Types.QUESTION_SUCCESS,\n        Types.QUESTION_FAILURE,\n      ],\n    },\n  };\n}\n\nexport function loadQuestion(id: string) {\n  return function (dispatch: any, getState: any) {\n    const answer = getState().questions.entities.get(id);\n    // do not send pointless requests\n    if (answer || !id) {\n      return null;\n    }\n    return dispatch(fetchQuestion(id));\n  };\n}\n\nexport function deleteQuestion(id: number, token: string) {\n  if (!id) {\n    // don't send pointless requests\n    return null;\n  }\n  return {\n    [CALL_API]: {\n      endpoint: `/api/questions/${id}`,\n      token: token,\n      types: [\n        Types.Q_DELETE_REQUEST,\n        Types.Q_DELETE_SUCCESS,\n        Types.Q_DELETE_FAILURE,\n      ],\n      config: {\n        method: \"DELETE\",\n      },\n    },\n  };\n}\n\nexport function postQuestion(content: string, token: string) {\n  return {\n    [CALL_API]: {\n      endpoint: \"/api/questions\",\n      token: token,\n      types: [Types.Q_POST_REQUEST, Types.Q_POST_SUCCESS, Types.Q_POST_FAILURE],\n      config: {\n        method: \"POST\",\n        body: JSON.stringify({ content }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      },\n    },\n  };\n}\n\nexport function selectBestAnswer(\n  question_id: number,\n  answer_id: number,\n  token: string\n) {\n  return {\n    [CALL_API]: {\n      endpoint: `/api/questions/${question_id}`,\n      token: token,\n      types: [Types.Q_BA_REQUEST, Types.Q_BA_SUCCESS, Types.Q_BA_FAILURE],\n      config: {\n        method: \"PATCH\",\n        body: JSON.stringify({ answer: answer_id }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      },\n    },\n  };\n}\n","import React from 'react';\n\ninterface Props {\n  className: string\n}\n\nfunction Spinner({ className }: Props) {\n  return (\n    <div className={className}>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 60 60\"\n        aria-labelledby=\"spinner-title\"\n        role=\"graphic\"\n        className=\"spinner\"\n      >\n        <title id=\"spinner-title\">Loading...</title>\n        <circle className=\"spinner-circle\" cx=\"30\" cy=\"30\" r=\"24\"></circle>\n        <circle className=\"spinner-semi-circle\" cx=\"30\" cy=\"30\" r=\"24\"></circle>\n      </svg>\n    </div>\n  )\n}\n\nexport default Spinner;\n","import React, { useState, FormEvent, useEffect, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"./avatar\";\nimport downArrow from \"../../images/icons/down-arrow.svg\";\nimport Dropdown from \"./dropdown\";\nimport Spinner from \"./spinner\";\nimport { selectBestAnswer } from \"../../state/ducks/questions/actions\";\nimport { deleteAnswer, postAnswer } from \"../../state/ducks/answers/actions\";\nimport { Answer } from \"../../state/ducks/answers/types\";\nimport { User } from \"../../state/ducks/users/types\";\n\ninterface AnswerProps {\n  answer: Answer;\n  users: Map<string, User>;\n  currentUser: string;\n  bestAnswer: number | null;\n  questionUserId: string;\n  selectBestAnswer: any;\n  deleteAnswer: any;\n  token: string;\n  isUpdatingQuestion: boolean;\n}\nfunction AnswerContent(props: AnswerProps) {\n  // handle showing the loading logic in the way below\n  // is just to only show the loading behavior in only one instance\n  const [requestBASent, setRequestBASent] = useState<boolean>(false);\n  useEffect(() => {\n    if (!props.isUpdatingQuestion) {\n      setRequestBASent(false);\n    }\n  }, [props.isUpdatingQuestion]);\n  const [showDropdown, setShowDropdown] = useState<boolean>(false);\n  function handleReporting() {\n    alert(\"Unfortunately, this action is not implemented yet!\");\n  }\n  function handleUpdating() {\n    alert(\"Unfortunately, this action is not implemented yet!\");\n  }\n  function handleBestAnswer() {\n    props.selectBestAnswer(\n      props.answer.question_id,\n      props.answer.id,\n      props.token\n    );\n    setRequestBASent(true);\n    setShowDropdown(false);\n  }\n  function handleDelete() {\n    props.deleteAnswer(props.answer.id, props.token);\n  }\n  let user = props.users.get(props.answer.user_id);\n  let job = \"loading...\",\n    userName = \"loading...\";\n  if (user) {\n    userName = user.user_metadata\n      ? user.user_metadata.firstname + \" \" + user.user_metadata.lastname\n      : user.name;\n    job = user.user_metadata ? user.user_metadata.job : \"software engineer\";\n    // you've signed in using github :)\n  }\n  const currentUserAnswer = props.currentUser === props.answer.user_id;\n  const currentUserQuestion = props.currentUser === props.questionUserId;\n  const createdAt = new Date(props.answer.created_at);\n  const isBestAnswer = props.bestAnswer === props.answer.id;\n  return (\n    <>\n      <div className=\"card-header\">\n        <Avatar\n          src={user?.picture || \"\"}\n          info={{ name: userName, role: job }}\n        />\n        <div className=\"card-header-metadata\">\n          <p className=\"content\">\n            <small>\n              {createdAt.toLocaleDateString()}\n              <br />\n              <span className=\"text-muted\">\n                {requestBASent\n                  ? \"loading...\"\n                  : isBestAnswer\n                  ? \"Accepted by user\"\n                  : \"Most recent\"}\n              </span>\n            </small>\n          </p>\n          <Dropdown\n            useDropdown={[showDropdown, setShowDropdown]}\n            btnContent={\n              <img className=\"icon\" src={downArrow} alt=\"down-arrow icon\" />\n            }\n          >\n            {!currentUserAnswer && (\n              <button onClick={handleReporting}>Report this answer</button>\n            )}\n            {currentUserQuestion && (\n              <button onClick={handleBestAnswer}>Select best answer</button>\n            )}\n            {currentUserAnswer && (\n              <button onClick={handleUpdating}>Update answer</button>\n            )}\n            {currentUserAnswer && (\n              <button onClick={handleDelete}>Delete answer</button>\n            )}\n          </Dropdown>\n        </div>\n      </div>\n      <div className=\"card-body\">\n        <p className=\"card-text\">{props.answer.content}</p>\n      </div>\n    </>\n  );\n}\ninterface Props {\n  users: Map<string, User>;\n  token: string;\n  currentUser: string;\n  bestAnswer: number | null;\n  answerExists: boolean;\n  questionId: number;\n  questionUserId: string;\n  selectBestAnswer: any;\n  deleteAnswer: any;\n  postAnswer: any;\n  isUpdatingQuestion: boolean;\n  isPostingAnswer: boolean;\n  // you must include one of the following properties\n  answer?: Answer | undefined;\n  answers?: (Answer | undefined)[];\n}\nfunction AnswerSection(props: Props) {\n  const [formActive, setFormActive] = useState<boolean>(false);\n  const [textareaVal, setTextareaVal] = useState<string>(\"\");\n  // handle showing the loading logic in the way below\n  // is just to only show the loading behavior in only one instance\n  const [postingAnswer, setPostingAnswer] = useState<boolean>(false);\n  useEffect(() => {\n    if (!props.isPostingAnswer) {\n      setPostingAnswer(false);\n    }\n  }, [props.isPostingAnswer]);\n  function showForm() {\n    setFormActive(true);\n  }\n  function hideForm() {\n    if (textareaVal !== \"\") {\n      const confirm = window.confirm(\"Discard what you have typed?\");\n      if (!confirm) {\n        return;\n      }\n    }\n    setTextareaVal(\"\");\n    setFormActive(false);\n  }\n  function handleSubmit(evt: FormEvent<HTMLFormElement>) {\n    evt.preventDefault();\n    props.postAnswer(props.questionId, textareaVal, props.token);\n    setTextareaVal(\"\");\n    setFormActive(false);\n    setPostingAnswer(true);\n  }\n\n  let answers = null;\n  if (props.answers) {\n    answers = props.answers.map((answer) => {\n      return (\n        <Fragment key={Math.random().toString(16).slice(2)}>\n          <hr />\n          {!answer && (\n            <div className=\"spinner-container\" style={{ height: \"60px\" }}>\n              <Spinner className=\"spinner-sm spinner-centered\" />\n            </div>\n          )}\n          {answer && (\n            <AnswerContent\n              answer={answer}\n              users={props.users}\n              currentUser={props.currentUser}\n              bestAnswer={props.bestAnswer}\n              questionUserId={props.questionUserId}\n              selectBestAnswer={props.selectBestAnswer}\n              token={props.token}\n              deleteAnswer={props.deleteAnswer}\n              isUpdatingQuestion={props.isUpdatingQuestion}\n            />\n          )}\n        </Fragment>\n      );\n    });\n  }\n\n  return (\n    <div className=\"card answer\">\n      {/* in case there is only one answer to include */}\n      {!answers && (\n        <>\n          {((!props.answer && props.answerExists) || postingAnswer) && (\n            <div className=\"spinner-container\" style={{ height: \"60px\" }}>\n              <Spinner className=\"spinner-sm spinner-centered\" />\n            </div>\n          )}\n          {props.answer && (\n            <AnswerContent\n              answer={props.answer}\n              users={props.users}\n              currentUser={props.currentUser}\n              bestAnswer={props.bestAnswer}\n              questionUserId={props.questionUserId}\n              selectBestAnswer={props.selectBestAnswer}\n              token={props.token}\n              deleteAnswer={props.deleteAnswer}\n              isUpdatingQuestion={props.isUpdatingQuestion}\n            />\n          )}\n          {props.answerExists && <hr />}\n        </>\n      )}\n      <div className=\"answer-cta-section\">\n        <button className=\"btn btn-link\" onClick={showForm}>\n          Write an answer\n        </button>\n        {props.answerExists && !answers && (\n          <Link to={`/questions/${props.questionId}`} className=\"btn btn-link\">\n            View all answers\n          </Link>\n        )}\n      </div>\n      {formActive && (\n        <>\n          <hr />\n          <form action=\"\" className=\"answer-form\" onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <textarea\n                name=\"\"\n                id=\"\"\n                rows={3}\n                className=\"form-control\"\n                value={textareaVal}\n                onChange={(evt) => {\n                  setTextareaVal(evt.currentTarget.value);\n                }}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              disabled={textareaVal === \"\"}\n            >\n              Submit\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={hideForm}\n            >\n              Cancel\n            </button>\n          </form>\n        </>\n      )}\n      {/* in case there are multiple answers to include */}\n      {answers && (\n        <>\n          {postingAnswer && (\n            <div className=\"spinner-container\" style={{ height: \"60px\" }}>\n              <Spinner className=\"spinner-sm spinner-centered\" />\n            </div>\n          )}\n          {answers}\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    token: state.auth0.accessToken,\n    currentUser: state.auth0.currentUser,\n    users: state.users.entities,\n    isPostingAnswer: state.answers.isPosting,\n  };\n}\nconst mapDispatchToProps = {\n  selectBestAnswer,\n  deleteAnswer,\n  postAnswer,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerSection);\n","import React, { useState, FormEvent, CSSProperties } from \"react\";\nimport { connect } from \"react-redux\";\nimport { postQuestion } from \"../../state/ducks/questions/actions\";\nimport { Avatar } from \"../components\";\n\ninterface Props {\n  postQuestion: any;\n  token: string;\n  users: Map<string, any>;\n  currentUser: string;\n  style: CSSProperties\n}\nfunction QuestionFrom(props: Props) {\n  const [formFocused, setFormFocused] = useState<boolean>(false);\n  const [textareaVal, setTextareaVal] = useState<string>(\"\");\n  function handleFocus() {\n    setFormFocused(true);\n  }\n  function handleBlur() {\n    setFormFocused(false);\n  }\n  function handleChange(evt: FormEvent<HTMLTextAreaElement>) {\n    setTextareaVal(evt.currentTarget.value);\n  }\n  function handleCancel() {\n    setTextareaVal(\"\");\n    setFormFocused(false);\n  }\n  function handleSubmit(evt: FormEvent<HTMLFormElement>) {\n    evt.preventDefault();\n    props.postQuestion(textareaVal, props.token);\n    setTextareaVal(\"\");\n    handleBlur();\n  }\n  const currentUser = props.users.get(props.currentUser);\n  return (\n    <>\n      {formFocused && <div className=\"q-form-backdrop\"></div>}\n      <form\n        action=\"\"\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        onSubmit={handleSubmit}\n        className={`question-form ${formFocused ? \"focus\" : \"\"}`}\n        style={props.style}\n      >\n        <div className=\"backdrop\"></div>\n        <div className=\"group\">\n          <Avatar src={currentUser?.picture || \"\"} />\n          <textarea\n            placeholder=\"Sal about anything...\"\n            rows={3}\n            value={textareaVal}\n            onChange={handleChange}\n          />\n        </div>\n        {(formFocused || textareaVal) && (\n          <>\n            <hr />\n            <button\n              type=\"submit\"\n              className=\"btn btn-link\"\n              disabled={textareaVal === \"\"}\n            >\n              Submit\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={handleCancel}\n            >\n              Cancel\n            </button>\n          </>\n        )}\n      </form>\n    </>\n  );\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    token: state.auth0.accessToken,\n    currentUser: state.auth0.currentUser,\n    users: state.users.entities,\n  };\n}\n\nconst mapDispatchToProps = {\n  postQuestion,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionFrom);\n","import React from 'react';\nimport Navbar from \"./navbar\";\n\nfunction Header() {\n  return (\n    <header className=\"page-header\">\n      <div className=\"container\">\n        <Navbar />\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\n\ninterface Props {}\nfunction Footer(props: Props) {\n  return (\n    <footer className=\"page-footer\">\n      <div className=\"container\">\n        <p className=\"copyrights\">\n          Designed & Developed by&nbsp;\n          <a\n            href=\"https://www.linkedin.com/in/ahmedhrayyan/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Ahmed Hamed\n          </a>\n        </p>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useEffect, ReactNode, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { loadQuestions } from \"../../state/ducks/questions/actions\";\nimport { Question } from \"../../state/ducks/questions/types\";\nimport { loadUser } from \"../../state/ducks/users/actions\";\nimport { User } from \"../../state/ducks/users/types\";\nimport { loadAnswer } from \"../../state/ducks/answers/actions\";\nimport { QuestionSection } from \"../components\";\nimport { AnswerSection } from \"../components\";\nimport { Spinner } from \"../components\";\nimport { QuestionForm } from \"../components\";\nimport { Answer } from \"../../state/ducks/answers/types\";\n\ninterface Props {\n  loadQuestions: any;\n  questions: Map<number, Question>;\n  nextPageUrl: string | null;\n  isFetchingQuestions: boolean;\n  isPostingQuestion: boolean;\n  isUpdatingQuestion: boolean;\n  loadUser: any;\n  users: Map<number, User>;\n  loadAnswer: any;\n  answers: Map<number, Answer>;\n  currentUser: string; // current user_id\n}\n\nfunction Home(props: Props) {\n  useEffect(() => {\n    // if the first page of questions have not been fetched yet\n\n    // (or it have but the there is no 20 questions in the database\n    // but in that case the loadQuestion logic should handle it)\n    if (props.questions.size < 20) {\n      props.loadQuestions();\n    }\n    document.title = \"Sal - The best QA engine?\";\n  }, []);\n  const requestedUsers = useRef<Set<string>>(new Set());\n  useEffect(() => {\n    for (const question of props.questions.values()) {\n      // do not make multiple requests with the same id\n      // we've requested the current user in in App component\n      if (\n        !requestedUsers.current.has(question.user_id) &&\n        question.user_id !== props.currentUser\n      ) {\n        props.loadUser(question.user_id);\n        requestedUsers.current.add(question.user_id);\n      }\n      // fetch answers\n      props.loadAnswer(question.best_answer || question.answers[0]);\n    }\n  }, [props.questions]);\n\n  useEffect(() => {\n    for (const answer of props.answers.values()) {\n      if (\n        !requestedUsers.current.has(answer.user_id) &&\n        answer.user_id !== props.currentUser\n      ) {\n        props.loadUser(answer.user_id);\n        requestedUsers.current.add(answer.user_id);\n      }\n    }\n  }, [props.answers]);\n\n  function handleFetchNewQuestions() {\n    props.loadQuestions();\n  }\n\n  let QAComponents: ReactNode[] = [];\n  for (const question of props.questions.values()) {\n    QAComponents.push(\n      <div key={question.id}>\n        <QuestionSection\n          key={question.id}\n          style={{ margin: \"50px 7px 0\" }}\n          question={question}\n        />\n        <AnswerSection\n          bestAnswer={question.best_answer}\n          answerExists={question.answers.length > 0}\n          answer={props.answers.get(\n            question.best_answer || question.answers[0]\n          )}\n          questionId={question.id}\n          questionUserId={question.user_id}\n          isUpdatingQuestion={props.isUpdatingQuestion}\n        />\n      </div>\n    );\n  }\n  // homepage top spinner condition\n  const condition =\n    (props.isFetchingQuestions && props.questions.size === 0) ||\n    props.isPostingQuestion;\n  return (\n    <div className=\"content-container\" style={{ marginBottom: \"50px\" }}>\n      <QuestionForm style={{ marginTop: \"50px\" }} />\n      {/* show spinner on homepage top */}\n      {condition && (\n        <div className=\"spinner-container\" style={{ height: \"180px\" }}>\n          <Spinner className=\"spinner-sm spinner-centered\" />\n        </div>\n      )}\n      {QAComponents}\n      {props.nextPageUrl && (\n        <div\n          style={{ textAlign: \"center\", marginTop: \"30px\" }}\n          onClick={handleFetchNewQuestions}\n        >\n          <button className=\"btn btn-link\">Load More</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    currentUser: state.auth0.currentUser,\n    questions: state.questions.entities,\n    nextPageUrl: state.questions.nextPageUrl,\n    isFetchingQuestions: state.questions.isFetching,\n    isPostingQuestion: state.questions.isPosting,\n    isUpdatingQuestion: state.questions.isUpdating,\n    users: state.users.entities,\n    answers: state.answers.entities,\n  };\n}\nconst mapDispatchToProps = {\n  loadQuestions,\n  loadUser,\n  loadAnswer,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { loadQuestion } from \"../../state/ducks/questions/actions\";\nimport { Question } from \"../../state/ducks/questions/types\";\nimport { loadAnswer } from \"../../state/ducks/answers/actions\";\nimport { Answer } from \"../../state/ducks/answers/types\";\nimport { QuestionSection, Spinner, AnswerSection } from \"../components\";\n\ninterface Props {\n  loadQuestion: any;\n  loadAnswer: any;\n  questions: Map<number, Question>;\n  answers: Map<number, Answer>;\n  isUpdatingQuestion: boolean;\n}\nfunction QuestionPage(props: Props) {\n  const history = useHistory();\n  const { questionId } = useParams();\n  useEffect(() => {\n    props.loadQuestion(parseInt(questionId));\n  }, []);\n\n  useEffect(() => {\n    const question = props.questions.get(parseInt(questionId));\n    if (question) {\n      for (const answer_id of question.answers) {\n        props.loadAnswer(answer_id);\n      }\n      document.title = \"Sal - \" + question.content.slice(0, 24) + \"...\";\n    }\n  }, [props.questions]);\n\n  const question = props.questions.get(parseInt(questionId));\n  if (!question) {\n    return (\n      <div className=\"spinner-container\" style={{ height: \"180px\" }}>\n        <Spinner className=\"spinner-sm spinner-centered\" />\n      </div>\n    );\n  }\n\n  const answers = [];\n  for (const answer_id of question.answers) {\n    if (answer_id === question.best_answer) {\n      // show best answer at the begging of answerSection\n      answers.unshift(props.answers.get(answer_id));\n    } else {\n      answers.push(props.answers.get(answer_id));\n    }\n  }\n  return (\n    <div className=\"content-container\" style={{ marginBottom: \"50px\" }}>\n      <button\n        className=\"btn btn-link\"\n        style={{ padding: \"14px 7px\", color: \"#323130\" }}\n        onClick={() => history.goBack()}\n      >\n        &lt;&nbsp; Back\n      </button>\n      <QuestionSection style={{ margin: \"0px 7px 0\" }} question={question} />\n      <AnswerSection\n        questionId={question.id}\n        questionUserId={question.user_id}\n        isUpdatingQuestion={props.isUpdatingQuestion}\n        answerExists={question.answers.length > 0}\n        bestAnswer={question.best_answer}\n        answers={answers}\n      />\n    </div>\n  );\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    questions: state.questions.entities,\n    isUpdatingQuestion: state.questions.isUpdating,\n    answers: state.answers.entities,\n  };\n}\n\nconst mapDispatchToProps = {\n  loadQuestion,\n  loadAnswer,\n};\n\n// export as any due to problem with typescript\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(QuestionPage) as any;\n","export enum Types {\n  SEARCH_REQUEST = \"SEARCH_REQUEST\",\n  SEARCH_SUCCESS = \"SEARCH_SUCCESS\",\n  SEARCH_FAILURE = \"SEARCH_FAILURE\",\n}\n\nexport interface Question {\n  id: number;\n  user_id: string;\n  content: string;\n  created_at: string;\n  best_answer: number | null;\n  answers: number[];\n}\n","import { Types } from \"./types\";\nimport { CALL_API } from \"../../middlewares/apiService\";\n\n// load questions by page\nfunction searchQuestions(search: string, nextPageUrl: string) {\n  return {\n    [CALL_API]: {\n      endpoint: nextPageUrl,\n      types: [Types.SEARCH_REQUEST, Types.SEARCH_SUCCESS, Types.SEARCH_FAILURE],\n      config: {\n        method: \"POST\",\n        body: JSON.stringify({\n          search: search,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      },\n    },\n  };\n}\n\nexport function loadSearch(search: string) {\n  return function (dispatch: any, getState: any) {\n    const { searchTerm, nextPageUrl = \"/api/search\", pageCount = 0 } =\n      getState().search || {};\n\n    // searchTerm have changed\n    if (searchTerm !== null && searchTerm !== search) {\n      return dispatch(searchQuestions(search, '/api/search'))\n    }\n    // don't make pointless requests\n    if (pageCount > 0 && !nextPageUrl) {\n      return null;\n    }\n    // initial call\n    return dispatch(searchQuestions(search, nextPageUrl));\n  };\n}\n","import React, { ReactNode, useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport { Spinner, QuestionSection } from \"../components\";\nimport { loadSearch } from \"../../state/ducks/search/actions\";\nimport { loadUser } from \"../../state/ducks/users/actions\";\n\ninterface Props {\n  questions: Map<number, any>;\n  isFetchingQuestions: boolean;\n  nextPageUrl: string;\n  loadSearch: any;\n  loadUser: any;\n  currentUser: string;\n}\nfunction SearchPage(props: Props) {\n  const { search } = useLocation();\n  const params = new URLSearchParams(search);\n  useEffect(() => {\n    if (params.get(\"term\")) {\n      props.loadSearch(params.get(\"term\"));\n      document.title = \"Sal - search for \" + params.get(\"term\")\n    }\n  }, [search]);\n\n  const requestedUsers = useRef<Set<string>>(new Set());\n  useEffect(() => {\n    for (const question of props.questions.values()) {\n      // do not make multiple requests with the same id\n      // we've requested the current user in in App component\n      if (\n        !requestedUsers.current.has(question.user_id) &&\n        question.user_id !== props.currentUser\n      ) {\n        props.loadUser(question.user_id);\n        requestedUsers.current.add(question.user_id);\n      }\n    }\n  }, [props.questions]);\n\n  if (!params.get(\"term\")) {\n    return (\n      <div className=\"content-container\">\n        <h1>You've searched for nothing!</h1>\n      </div>\n    );\n  }\n\n  function handleFetchNewQuestions() {\n    props.loadSearch(params.get(\"term\"));\n  }\n\n  let QComponents: ReactNode[] = [];\n  for (const question of props.questions.values()) {\n    QComponents.push(\n      <div key={question.id}>\n        <QuestionSection\n          key={question.id}\n          style={{ margin: \"50px 7px 0\" }}\n          question={question}\n        />\n        <div className=\"card answer\">\n          <div className=\"answer-cta-section\">\n            <Link to={`/questions/${question.id}`} className=\"btn btn-link\">\n              View Question\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  // search top spinner condition\n  const condition = props.isFetchingQuestions && props.questions.size === 0;\n  return (\n    <div className=\"content-container\" style={{ marginBottom: \"50px\" }}>\n      {/* show spinner on search page */}\n      {condition && (\n        <div className=\"spinner-container\" style={{ height: \"180px\" }}>\n          <Spinner className=\"spinner-sm spinner-centered\" />\n        </div>\n      )}\n      {QComponents}\n      {props.nextPageUrl && (\n        <div\n          style={{ textAlign: \"center\", marginTop: \"30px\" }}\n          onClick={handleFetchNewQuestions}\n        >\n          <button className=\"btn btn-link\">Load More</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    currentUser: state.auth0.currentUser,\n    questions: state.search.entities,\n    isFetchingQuestions: state.search.isFetching,\n    nextPageUrl: state.search.nextPageUrl,\n  };\n}\nconst mapDispatchToProps = {\n  loadSearch,\n  loadUser,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPage);\n","import { Home } from \"../views/pages\";\nimport { QuestionPage } from \"../views/pages\";\nimport { SearchPage } from \"../views/pages\";\nconst routes = [\n  {\n    path: \"/\",\n    component: Home,\n    exact: true,\n  },\n  {\n    path: \"/questions/:questionId\",\n    component: QuestionPage,\n    exact: true,\n  },\n  {\n    path: \"/search\",\n    component: SearchPage,\n    exact: true\n  }\n];\n\nexport default routes;\n","import React, { useEffect } from \"react\";\nimport config from \"../../auth_config.json\";\nimport history from \"../../state/ducks/auth0/utils\";\nimport { initAuth0 } from \"../../state/ducks/auth0/actions\";\nimport { loadUser } from \"../../state/ducks/users/actions\";\nimport { connect } from \"react-redux\";\nimport { Router, Route } from \"react-router-dom\";\nimport routes from \"../../routes\";\nimport { Header, Spinner, Footer } from \"../components\";\n\ninterface Props {\n  initAuth0: any;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  currentUser: string;\n  loadUser: any;\n}\nfunction App(props: Props) {\n  useEffect(() => {\n    const handleAuth0Redirect = (appState: any) => {\n      history.push(\n        appState && appState.targetUrl\n          ? appState.targetUrl\n          : window.location.pathname\n      );\n    };\n\n    props.initAuth0(\n      {\n        domain: config.domain,\n        client_id: config.clientId,\n        audience: config.audience,\n        redirect_uri: window.location.origin,\n        useRefreshToken: config.useRefreshToken,\n      },\n      handleAuth0Redirect\n    );\n  }, []);\n  useEffect(() => {\n    // load currentUser\n    if (props.isAuthenticated) {\n      props.loadUser(props.currentUser);\n    }\n  }, [props.isAuthenticated]);\n\n  if (props.isLoading) {\n    return (\n      <div className=\"app\">\n        <Spinner className=\"spinner spinner-centered\" />\n      </div>\n    );\n  }\n\n  return (\n    <Router history={history}>\n      <Header />\n      {props.isAuthenticated && (\n        <div>\n          {routes.map((route) => {\n            return <Route key={route.path} {...route} />;\n          })}\n        </div>\n      )}\n      <Footer />\n    </Router>\n  );\n}\n\nfunction mapStateToProps(state: any) {\n  return {\n    isLoading: state.auth0.isLoading,\n    isAuthenticated: state.auth0.isAuthenticated,\n    currentUser: state.auth0.currentUser,\n  };\n}\n\nconst mapDispatchToProps = {\n  initAuth0,\n  loadUser,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import Types, { Auth0ActionTypes } from \"./types\";\nconst defaultState = {\n  isLoading: true,\n  errorMessage: null,\n  accessToken: null,\n  isAuthenticated: false,\n  currentUser: null,\n  client: null,\n};\n\nfunction auth0Reducer(state = defaultState, action: Auth0ActionTypes) {\n  switch (action.type) {\n    case Types.INIT_AUTH0_REQUEST:\n      return Object.assign({}, state, {\n        isLoading: true,\n      });\n    case Types.INIT_AUTH0_SUCCESS:\n      return Object.assign({}, state, {\n        isLoading: false,\n        client: action.payload.auth0Client,\n        isAuthenticated: action.payload.isAuthenticated,\n        accessToken: action.payload.accessToken,\n        currentUser: action.payload.currentUser,\n      });\n    case Types.INIT_AUTH0_ERROR:\n      return Object.assign({}, state, {\n        isLoading: false,\n        errorMessage: action.error,\n      });\n    default:\n      return state;\n  }\n}\n\nexport default auth0Reducer;\n","import reducer from \"./reducers\";\n\nexport default reducer;\n","import { Types, Question } from \"./types\";\nimport { Types as AnswersTypes } from \"../answers/types\";\nconst defaultState = {\n  isFetching: false,\n  isPosting: false,\n  isUpdating: false,\n  errorMessage: null,\n  pageCount: 0, // we haven't fetched any page yet\n  entities: new Map<number, Question>(),\n};\n\nfunction questionsReducer(state = defaultState, action: any) {\n  switch (action.type) {\n    case Types.QUESTIONS_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true,\n      });\n    case Types.QUESTIONS_SUCCESS: {\n      let newEntities = new Map(state.entities); // clone old questions\n      for (const entity of action.payload.questions) {\n        newEntities.set(entity.id, entity);\n      }\n      return Object.assign({}, state, {\n        isFetching: false,\n        entities: newEntities,\n        nextPageUrl: action.payload.next_path,\n        noOfQuestions: action.payload.no_of_questions,\n        lastUpdated: action.receivedAt,\n        pageCount: state.pageCount + 1,\n      });\n    }\n    case Types.QUESTIONS_FAILURE:\n      return Object.assign({}, state, {\n        errorMessage: action.error,\n        isFetching: false,\n      });\n    case Types.QUESTION_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true,\n      });\n    case Types.QUESTION_SUCCESS: {\n      let newEntities = new Map(state.entities); // clone old questions\n      newEntities.set(action.payload.question.id, action.payload.question);\n      return Object.assign({}, state, {\n        isFetching: false,\n        entities: newEntities,\n        lastUpdated: action.receivedAt,\n      });\n    }\n    case Types.QUESTION_FAILURE:\n      return Object.assign({}, state, {\n        errorMessage: action.error,\n        isFetching: false,\n      });\n    case Types.Q_DELETE_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true,\n      });\n    case Types.Q_DELETE_SUCCESS: {\n      const newEntities = new Map(state.entities);\n      newEntities.delete(action.payload.del_id);\n      return Object.assign({}, state, {\n        entities: newEntities,\n        isFetching: false,\n      });\n    }\n    case Types.Q_DELETE_FAILURE:\n      return Object.assign({}, state, {\n        isFetching: false,\n        errorMessage: action.error,\n      });\n\n    case Types.Q_POST_REQUEST:\n      return Object.assign({}, state, {\n        isPosting: true,\n      });\n    case Types.Q_POST_SUCCESS: {\n      const newEntities = new Map([\n        [action.payload.created.id, action.payload.created],\n        ...state.entities,\n      ]);\n      return Object.assign({}, state, {\n        isPosting: false,\n        entities: newEntities,\n      });\n    }\n    case Types.Q_POST_FAILURE:\n      return Object.assign({}, state, {\n        isPosting: false,\n        errorMessage: action.error,\n      });\n    case Types.Q_BA_REQUEST:\n      return Object.assign({}, state, {\n        isUpdating: true,\n      });\n    case Types.Q_BA_SUCCESS: {\n      const newEntities = new Map(state.entities);\n      newEntities.set(action.payload.patched.id, action.payload.patched);\n      return Object.assign({}, state, {\n        isUpdating: false,\n        entities: newEntities,\n      });\n    }\n    case Types.Q_BA_FAILURE: {\n      return Object.assign({}, state, {\n        isUpdating: false,\n        errorMessage: action.error,\n      });\n    }\n\n    // Update questions based on answers types\n    case AnswersTypes.A_DELETE_SUCCESS: {\n      const newEntities = new Map(state.entities);\n      const question = newEntities.get(action.payload.question_id) as Question;\n      // remove deleted id from question answers array\n      question.answers = question.answers.filter(\n        (id) => id !== action.payload.del_id\n      );\n      if (question.best_answer === action.payload.del_id) {\n        question.best_answer = null;\n      }\n      return Object.assign({\n        entities: newEntities,\n      });\n    }\n\n    case AnswersTypes.A_POST_SUCCESS: {\n      const newEntities = new Map(state.entities);\n      const question = newEntities.get(\n        action.payload.created.question_id\n      ) as Question;\n      // add the created id to the first of the question answers array\n      question.answers.unshift(action.payload.created.id);\n      return Object.assign({\n        entities: newEntities,\n      });\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default questionsReducer;\n","import reducer from \"./reducers\";\nexport default reducer;\n","import { Types, User } from \"./types\";\nconst defaultState = {\n  isFetching: false,\n  errorMessage: null,\n  entities: new Map<string, User>(),\n};\n\nfunction usersReducer(state = defaultState, action: any) {\n  switch (action.type) {\n    case Types.USER_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true,\n      });\n    case Types.USER_SUCCESS: {\n      let newEntities = new Map(state.entities); // clone old questions\n      newEntities.set(action.payload.user.user_id, action.payload.user);\n      return Object.assign({}, state, {\n        isFetching: false,\n        entities: newEntities,\n        lastUpdated: action.receivedAt,\n      });\n    }\n    case Types.USER_FAILURE:\n      return Object.assign({}, state, {\n        errorMessage: action.error,\n        isFetching: false,\n      });\n    default:\n      return state;\n  }\n}\n\nexport default usersReducer;\n","import reducer from \"./reducers\";\nexport default reducer;\n","import { Types, Answer } from \"./types\";\nconst defaultState = {\n  isFetching: false,\n  isPosting: false,\n  errorMessage: null,\n  entities: new Map<number, Answer>(),\n};\n\nfunction answersReducer(state = defaultState, action: any) {\n  switch (action.type) {\n    case Types.ANSWER_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true,\n      });\n    case Types.ANSWER_SUCCESS: {\n      let newEntities = new Map(state.entities); // clone old questions\n      newEntities.set(action.payload.answer.id, action.payload.answer);\n      return Object.assign({}, state, {\n        isFetching: false,\n        entities: newEntities,\n        lastUpdated: action.receivedAt,\n      });\n    }\n    case Types.ANSWER_FAILURE:\n      return Object.assign({}, state, {\n        errorMessage: action.error,\n        isFetching: false,\n      });\n    case Types.A_DELETE_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true,\n      });\n    case Types.A_DELETE_SUCCESS: {\n      const newEntities = new Map(state.entities);\n      newEntities.delete(action.payload.del_id);\n      return Object.assign({}, state, {\n        entities: newEntities,\n        isFetching: false,\n      });\n    }\n    case Types.A_DELETE_FAILURE:\n      return Object.assign({}, state, {\n        isFetching: false,\n        errorMessage: action.error,\n      });\n    case Types.A_POST_REQUEST:\n      return Object.assign({}, state, {\n        isPosting: true,\n      });\n    case Types.A_POST_SUCCESS: {\n      const newEntities = new Map([\n        [action.payload.created.id, action.payload.created],\n        ...state.entities,\n      ]);\n      return Object.assign({}, state, {\n        isPosting: false,\n        entities: newEntities,\n      });\n    }\n    case Types.A_POST_FAILURE:\n      return Object.assign({}, state, {\n        isPosting: false,\n        errorMessage: action.error,\n      });\n    default:\n      return state;\n  }\n}\n\nexport default answersReducer;\n","import reducer from \"./reducers\";\nexport default reducer;\n","import { Types, Question } from \"./types\";\nconst defaultState = {\n  isFetching: false,\n  errorMessage: null,\n  searchTerm: null,\n  pageCount: 0, // we haven't fetched any page yet\n  entities: new Map<number, Question>(),\n};\n\nfunction searchReducer(state = defaultState, action: any) {\n  switch (action.type) {\n    case Types.SEARCH_REQUEST:\n      return Object.assign({}, state, {\n        isFetching: true,\n      });\n    case Types.SEARCH_SUCCESS: {\n      let newEntities;\n      // searchTerm have changed\n      if (state.searchTerm && state.searchTerm !== action.payload.search_term) {\n        newEntities = new Map(); // clear old entities\n      } else {\n        newEntities = new Map(state.entities); // clone old questions\n      }\n      for (const entity of action.payload.questions) {\n        newEntities.set(entity.id, entity);\n      }\n      return Object.assign({}, state, {\n        isFetching: false,\n        entities: newEntities,\n        nextPageUrl: action.payload.next_path,\n        noOfQuestions: action.payload.no_of_questions,\n        lastUpdated: action.receivedAt,\n        pageCount: state.pageCount + 1,\n        searchTerm: action.payload.search_term\n      });\n    }\n    case Types.SEARCH_FAILURE:\n      return Object.assign({}, state, {\n        errorMessage: action.error,\n        isFetching: false,\n      });\n    default:\n      return state;\n  }\n}\n\nexport default searchReducer;\n","import reducer from \"./reducers\";\nexport default reducer;\n","import thunkMiddleware from \"redux-thunk\";\n// import { createLogger } from \"redux-logger\";\nimport { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport * as reducers from \"./ducks\";\nimport apiService from \"./middlewares/apiService\";\n\n// const loggerMiddleware = createLogger();\n\nconst store = createStore(\n  combineReducers(reducers),\n  applyMiddleware(\n    apiService,\n    thunkMiddleware\n    // loggerMiddleware\n  )\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style/main.scss\";\nimport { App } from \"./views/layouts\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport store from \"./state/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ReduxProvider store={store}>\n      <App />\n    </ReduxProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}